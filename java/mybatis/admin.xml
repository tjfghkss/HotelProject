<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">


<mapper namespace="admin.model.Admin">
	
	<select id="getTotalCount" resultType="int">
		select count(*) from sellers
		<if test="whatColumn == 'email'">
		where email like #{keyword}
		</if>		
		<if test="whatColumn == 'phone'">
		where phone like #{keyword}
		</if>
		<if test="whatColumn == 'comnumber'">
		where comnumber like #{keyword}
		</if>		
	</select>
	
	<select id="getSelList" resultType="MySeller">
		select * from sellers
		<if test="whatColumn == 'email'">
		where email like #{keyword}
		</if>		
		<if test="whatColumn == 'phone'">
		where phone like #{keyword}
		</if>
		<if test="whatColumn == 'comnumber'">
		where comnumber like #{keyword}
		</if>	 
	</select>
	
	<select id="getTotalCountMem" resultType="int">
		select count(*) from members
		<if test="whatColumn == 'm_email'">
		where m_email like #{keyword}
		</if>		
		<if test="whatColumn == 'm_nickname'">
		where m_nickname like #{keyword}
		</if>
	</select>
	
	<select id="getMemList" resultType="MyMember">
		select * from members
		<if test="whatColumn == 'm_email'">
		where m_email like #{keyword}
		</if>		
		<if test="whatColumn == 'm_nickname'">
		where m_nickname like #{keyword}
		</if>
		order by m_num desc
	</select>
	
	<delete id="deleteMem">
		delete members
		where m_num = #{m_num}
	</delete>
	
	<select id="updateView" resultType="Mymember">
		select * from members
		where m_num=#{m_num}
	</select>
	
	<update id="updateMem">
		update members set m_email=#{m_email}, m_password=#{m_password}, m_nickname=#{m_nickname}, m_name=#{m_name}, m_phone=#{m_phone}
		where m_num = #{m_num}
	</update> 
	
	
</mapper>